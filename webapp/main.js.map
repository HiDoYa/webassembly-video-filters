{"version":3,"sources":["./src/app/pipes.ts","./src/environments/environment.ts","./src/app/app.component.ts","./src/app/app.component.html","./src/app/app.module.ts","./src/app/algorithms.ts","./src/main.ts","./$_lazy_route_resource lazy namespace object"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["import { Pipe, PipeTransform } from '@angular/core';\r\n\r\n@Pipe({name: 'msToFps', pure: false})\r\nexport class MsToFps implements PipeTransform {\r\n  transform(value: number): string {\r\n    return (1 / (value / 1000)).toPrecision(5);\r\n  }\r\n}\r\n\r\n@Pipe({name: 'getAvg', pure: false})\r\nexport class GetAvg implements PipeTransform {\r\n  transform(array: Array<number>): number {\r\n    return array.reduce((a: any, b: any) => a + b) / array.length;\r\n  }\r\n}\r\n\r\n@Pipe({name: 'getName'})\r\nexport class GetName implements PipeTransform {\r\n  transform(obj: any): string {\r\n    return obj.name;\r\n  }\r\n}\r\n\r\n@Pipe({name: 'last', pure: false})\r\nexport class LastElement implements PipeTransform {\r\n  transform(array: Array<any>): any {\r\n    return array[array.length - 1];\r\n  }\r\n}\r\n\r\n@Pipe({name: 'orderBy', pure: false})\r\nexport class OrderBy implements PipeTransform {\r\n  transform(array: Array<any>): any {\r\n    return array.sort((a, b) => a.key.localeCompare(b.key));\r\n  }\r\n}","// This file can be replaced during build by using the `fileReplacements` array.\r\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\r\n// The list of file replacements can be found in `angular.json`.\r\n\r\nexport const environment = {\r\n  production: false\r\n};\r\n\r\n/*\r\n * For easier debugging in development mode, you can import the following file\r\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\r\n *\r\n * This import should be commented out in production mode because it will have a negative impact\r\n * on performance if an error is thrown.\r\n */\r\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\r\n","import { Component, ElementRef, Injectable, ViewChild, Renderer2, RendererFactory2, Input } from '@angular/core';\r\nimport { HttpClient, HttpEventType } from '@angular/common/http';\r\nimport { DomSanitizer, SafeResourceUrl, SafeUrl } from '@angular/platform-browser';\r\nimport { finalize } from 'rxjs/operators';\r\nimport { Observable, Subscription } from 'rxjs';\r\n\r\nimport { js_color_lumascope, js_lumascope, js_rgb_parade, js_color_vectorscope, js_vectorscope } from \"./algorithms\"\r\n\r\nclass ScopeDescriptor {\r\n  name: string = '';\r\n  func: any;\r\n\r\n  constructor(name: string, func: any) {\r\n    this.name = name;\r\n    this.func= func;\r\n  }\r\n}\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: './app.component.html',\r\n  styleUrls: ['./app.component.scss']\r\n})\r\n\r\nexport class AppComponent {\r\n  @ViewChild('files') files: any | undefined;\r\n  @ViewChild('scopecanvas') scopecanvas: ElementRef | undefined;\r\n  @ViewChild('vidcanvas') vidcanvas: ElementRef | undefined;\r\n  @ViewChild('bgScope') bgScope: ElementRef | undefined;\r\n  @ViewChild('video') video: ElementRef | undefined;\r\n  @ViewChild('overlay') overlay: ElementRef | undefined;\r\n\r\n  scopes: any = null;\r\n  currentScope: ScopeDescriptor = new ScopeDescriptor('', null);\r\n\r\n  bgScopeCtx: CanvasRenderingContext2D | undefined;\r\n  scopecanvasCtx: CanvasRenderingContext2D | undefined;\r\n  vidcanvasCtx: CanvasRenderingContext2D | undefined;\r\n  backendUrl: SafeResourceUrl = 'http://localhost:4201/';\r\n  currentVidSrc:  SafeResourceUrl | String = '';\r\n  gModule: any;\r\n\r\n  requiredFileType: string | undefined;\r\n  fileName = '';\r\n  uploadFileName = '';\r\n  uploadProgress: number | undefined;\r\n  uploadSub: Subscription ;\r\n\r\n  data: any;\r\n  inputArray: any;\r\n  inputPointer: any;\r\n  outputArray: any;\r\n  outputPointer: any;\r\n\r\n  image = new Image();\r\n\r\n  // Time for each computeFrame in ms\r\n  computeTimes: Array<number> = [];\r\n\r\n  constructor(private http: HttpClient, public sanitizer: DomSanitizer, private renderer: Renderer2) {\r\n    this.uploadSub = new Subscription;\r\n    this.uploadProgress = 0;\r\n  }\r\n\r\n  ngAfterViewInit() {\r\n    this.loadWasm();\r\n    this.doLoad();\r\n\r\n    this.http.get(this.backendUrl + 'download', {responseType:'json'}).subscribe(response => {\r\n      let videos = Object.values(response);\r\n      videos.forEach ((element: any) => {\r\n        this.addItem(element);\r\n      });\r\n    });\r\n  }\r\n\r\n  getFileToPlay(element: any) {\r\n    this.computeTimes = [];\r\n    this.http.get(this.backendUrl + 'playFile?name=' + element.target.textContent, {responseType:'blob'}).subscribe(response => {\r\n      this.fileName = element.target.textContent;\r\n      let videoSrc = window.URL.createObjectURL(response);\r\n      this.currentVidSrc =  this.sanitizer.bypassSecurityTrustResourceUrl(videoSrc);\r\n\r\n      this.allocateMemory();\r\n    });\r\n  }\r\n\r\n  invokePlay(data: any) {\r\n    this.data = data;\r\n    this.data.getDefaultMedia().subscriptions.loadedMetadata.subscribe(this.evokeVideo.bind(this));\r\n  }\r\n\r\n  evokeVideo() {\r\n    this.data.play();\r\n  }\r\n\r\n  reset() {\r\n    this.uploadProgress = 0;\r\n    this.uploadSub = new Subscription;\r\n  }\r\n\r\n  addItem(element: any){\r\n    const container = this.renderer.createElement('span');\r\n    this.renderer.addClass(container, 'mat-button-focus-overlay');\r\n    this.renderer.addClass(container, 'mat-ripple')\r\n    this.renderer.addClass(container, 'mat-button-ripple');\r\n\r\n    const recaptchaContainer = this.renderer.createElement('a');\r\n    recaptchaContainer.textContent = element;\r\n    this.renderer.appendChild(recaptchaContainer, container);\r\n    this.renderer.addClass(recaptchaContainer, 'mat-button');\r\n    this.renderer.addClass(recaptchaContainer, 'mat-focus-indicator');\r\n    this.renderer.addClass(recaptchaContainer, 'mat-button-base');\r\n    this.renderer.addClass(recaptchaContainer, 'cdk-focused');\r\n    this.renderer.addClass(recaptchaContainer, 'cdk-mouse-focused')\r\n    this.renderer.addClass(recaptchaContainer, 'mat-button');\r\n    this.renderer.addClass(recaptchaContainer, 'mat-button-wrapper');\r\n\r\n    this.renderer.listen(recaptchaContainer, 'click', this.getFileToPlay.bind(this) );\r\n    this.renderer.appendChild(this.files?.nativeElement, recaptchaContainer);\r\n  }\r\n\r\n  onFileSelected(event: any) {\r\n    const file: File = event.target.files[0];\r\n\r\n    if (!file) {\r\n      return;\r\n    }\r\n\r\n    this.uploadFileName = file.name;\r\n    const formData = new FormData();\r\n    formData.append(\"thumbnail\", file);\r\n\r\n    const upload = this.http.post(this.backendUrl + \"upload\", formData, {\r\n        reportProgress: true,\r\n        observe: 'events'\r\n    }).pipe(finalize(() => this.reset()));\r\n\r\n    this.uploadSub = upload.subscribe(event => {\r\n      if (event.type == HttpEventType.UploadProgress) {\r\n        const total: number = (event.total == undefined) ? 0 : event.total;\r\n        this.uploadProgress = Math.round(100 * (event.loaded / total));\r\n\r\n        if(this.uploadProgress == 100){\r\n          this.addItem(this.uploadFileName);\r\n        }\r\n      }\r\n    })\r\n  }\r\n\r\n  async loadWasm() {\r\n    const imports = {\r\n      wasi_snapshot_preview1: {\r\n        proc_exit: () => { },\r\n        fd_write: () => { },\r\n        fd_prestat_get: () => { },\r\n        fd_prestat_dir_name: () => { },\r\n        clock_time_get: () => { },\r\n        poll_oneoff: () => { },\r\n        sched_yield: () => { },\r\n        environ_sizes_get: () => { },\r\n        environ_get: () => { },\r\n        path_filestat_get: () => { },\r\n        fd_fdstat_get: () => { },\r\n        path_open: () => { },\r\n        path_readlink: () => { },\r\n        path_filestat_set_times: () => { },\r\n        path_unlink_file: () => { },\r\n        path_remove_directory: () => { },\r\n        path_create_directory: () => { },\r\n        fd_readdir: () => { },\r\n        fd_close: () => { },\r\n        path_symlink: () => { },\r\n        path_link: () => { },\r\n        path_rename: () => { },\r\n        fd_fdstat_set_flags: () => { },\r\n\r\n        fd_seek: () => { },\r\n\r\n        fd_read: () => { }\r\n      },\r\n      env: {\r\n        __memory_base: 0,\r\n        __table_base: 0,\r\n        __indirect_function_table: new WebAssembly.Table({ initial: 0, element: 'anyfunc' }),\r\n        __stack_pointer: new WebAssembly.Global({value:'i32', mutable:true}, 0),\r\n        memory: new WebAssembly.Memory({initial: 65536}),\r\n        STACKTOP: 0\r\n      }\r\n    };\r\n\r\n    await WebAssembly.instantiateStreaming(fetch('assets/zmo.wasm'), imports).then((obj: any) => {\r\n      this.gModule = obj;\r\n      this.gModule.instance.exports.memory.grow(15);\r\n\r\n      // Get scopes\r\n      this.scopes = {\r\n        HALIDE_LUMASCOPE: new ScopeDescriptor(\"Halide Lumascope\", this.gModule.instance.exports.lumascope),\r\n        HALIDE_CLUMASCOPE: new ScopeDescriptor(\"Halide Lumascope (Color)\", this.gModule.instance.exports.clumascope),\r\n        HALIDE_RGB_PARADE: new ScopeDescriptor(\"Halide RGB Parade\", this.gModule.instance.exports.rgbparade),\r\n        HALIDE_VECTORSCOPE: new ScopeDescriptor(\"Halide Vector Scope\", this.gModule.instance.exports.vectorscope),\r\n        HALIDE_CVECTORSCOPE: new ScopeDescriptor(\"Halide Vector Scope (Color)\", this.gModule.instance.exports.cvectorscope),\r\n        \r\n        CPP_LUMASCOPE: new ScopeDescriptor(\"C++ Lumascope\", this.gModule.instance.exports.cpp_lumascope),\r\n        CPP_COLOR_LUMASCOPE: new ScopeDescriptor(\"C++ Lumascope (Color)\", this.gModule.instance.exports.cpp_color_lumascope),\r\n        CPP_RGB_PARADE: new ScopeDescriptor(\"C++ RGB Parade\", this.gModule.instance.exports.cpp_rgb_parade),\r\n        CPP_VECTORSCOPE: new ScopeDescriptor(\"C++ Vector Scope\", this.gModule.instance.exports.cpp_vectorscope),\r\n        CPP_COLOR_VECTORSCOPE: new ScopeDescriptor(\"C++ Vector Scope (Color)\", this.gModule.instance.exports.cpp_color_vectorscope),\r\n\r\n        JS_LUMASCOPE: new ScopeDescriptor(\"JS Lumascope\", js_lumascope),\r\n        JS_COLOR_LUMASCOPE: new ScopeDescriptor(\"JS Color Lumascope\", js_color_lumascope),\r\n        JS_RGB_PARADE: new ScopeDescriptor(\"JS RGB Parade\", js_rgb_parade),\r\n        JS_VECTORSCOPE: new ScopeDescriptor(\"JS Vector Scope (Color)\", js_color_vectorscope),\r\n        JS_COLOR_VECTORSCOPE: new ScopeDescriptor(\"JS Vector Scope\", js_vectorscope),\r\n      };\r\n      this.currentScope = this.scopes.HALIDE_LUMASCOPE!;\r\n      this.changeScope(this.currentScope);\r\n    });\r\n  };\r\n\r\n  timerCallback() {\r\n    if (this.video?.nativeElement.paused || this.video?.nativeElement.ended) {\r\n      return;\r\n    }\r\n\r\n    // Process frame\r\n    let t0 = performance.now()\r\n    this.computeFrame();\r\n    let t1 = performance.now()\r\n    this.computeTimes.push(t1 - t0);\r\n\r\n    // Run function again immediately\r\n    setTimeout(() => this.timerCallback(), 0);\r\n  }\r\n\r\n  allocateMemory() {\r\n    let dim = this.getDimensions();\r\n    let width = dim[0], height = dim[1], outputWidth = dim[2], outputHeight = dim[3];\r\n\r\n    // FREE POINTERS\r\n    if (this.inputPointer != null) {\r\n      this.gModule.instance.exports.free(this.inputPointer);\r\n    }\r\n    if (this.outputPointer != null) {\r\n      this.gModule.instance.exports.free(this.outputPointer);\r\n    }\r\n\r\n    // ALLOCATE POINTERS (based on current scope)\r\n    this.inputPointer = this.gModule.instance.exports.malloc(width * height * 4);\r\n    this.inputArray = new Uint8Array(\r\n      this.gModule.instance.exports.memory.buffer,\r\n      this.inputPointer,\r\n      width * height * 4\r\n    );\r\n\r\n    this.outputPointer = this.gModule.instance.exports.malloc(outputWidth * outputHeight * 4);\r\n    this.outputArray = new Uint8Array(\r\n      this.gModule.instance.exports.memory.buffer,\r\n      this.outputPointer,\r\n      outputWidth * outputHeight * 4\r\n    );\r\n  }\r\n\r\n  getDimensions() {\r\n    let width = this.vidcanvas?.nativeElement.width;\r\n    let height = this.vidcanvas?.nativeElement.height;\r\n    let outputWidth = this.scopecanvas?.nativeElement.width;\r\n    let outputHeight = this.scopecanvas?.nativeElement.height;\r\n    return [width, height, outputWidth, outputHeight];\r\n  }\r\n\r\n  changeScope(scope: any) {\r\n    this.computeTimes = [];\r\n    this.currentScope = scope;\r\n    switch(this.currentScope) {\r\n      case this.scopes.HALIDE_LUMASCOPE: \r\n      case this.scopes.HALIDE_CLUMASCOPE: \r\n      case this.scopes.CPP_LUMASCOPE: \r\n      case this.scopes.CPP_COLOR_LUMASCOPE: \r\n      case this.scopes.JS_LUMASCOPE:\r\n      case this.scopes.JS_COLOR_LUMASCOPE:\r\n        this.bgScopeCtx?.clearRect(0, 0, this.bgScope?.nativeElement.width, this.bgScope?.nativeElement.height);\r\n        this.image.src = \"../../assets/images/scopes.svg\";\r\n        this.vidcanvasCtx!.canvas.width = 116;\r\n        this.vidcanvasCtx!.canvas.height = 256;\r\n        this.scopecanvasCtx!.canvas.width = 116;\r\n        this.scopecanvasCtx!.canvas.height = 256;\r\n        break;\r\n      case this.scopes.HALIDE_VECTORSCOPE: \r\n      case this.scopes.HALIDE_CVECTORSCOPE: \r\n      case this.scopes.CPP_VECTORSCOPE: \r\n      case this.scopes.CPP_COLOR_VECTORSCOPE: \r\n      case this.scopes.JS_VECTORSCOPE:\r\n      case this.scopes.JS_COLOR_VECTORSCOPE:\r\n        this.bgScopeCtx?.clearRect(0, 0, this.bgScope?.nativeElement.width, this.bgScope?.nativeElement.height);\r\n        this.image.src = \"../../assets/images/vectorscope.svg\";\r\n        this.vidcanvasCtx!.canvas.width = 256;\r\n        this.vidcanvasCtx!.canvas.height = 256;\r\n        this.scopecanvasCtx!.canvas.width = 256;\r\n        this.scopecanvasCtx!.canvas.height = 256;\r\n        break;\r\n      case this.scopes.HALIDE_RGB_PARADE:\r\n      case this.scopes.CPP_RGB_PARADE: \r\n      case this.scopes.JS_RGB_PARADE:\r\n        this.bgScopeCtx?.clearRect(0, 0, this.bgScope?.nativeElement.width, this.bgScope?.nativeElement.height);\r\n        this.image.src = \"../../assets/images/scopes.svg\";\r\n        this.vidcanvasCtx!.canvas.width = 128;\r\n        this.vidcanvasCtx!.canvas.height = 256;\r\n        this.scopecanvasCtx!.canvas.width = 128 * 3;\r\n        this.scopecanvasCtx!.canvas.height = 256;\r\n        break;\r\n    }\r\n\r\n    this.allocateMemory();\r\n  }\r\n\r\n  doLoad() {\r\n    // Get html elements\r\n    this.scopecanvasCtx = this.scopecanvas?.nativeElement.getContext(\"2d\");\r\n    this.vidcanvasCtx = this.vidcanvas?.nativeElement.getContext(\"2d\");\r\n    this.bgScopeCtx = this.bgScope?.nativeElement.getContext(\"2d\");\r\n    this.bgScopeCtx!.canvas.width = 256;\r\n    this.bgScopeCtx!.canvas.height = 256;\r\n    \r\n    this.bgScopeCtx?.clearRect(0, 0, this.bgScope?.nativeElement.width, this.bgScope?.nativeElement.height);\r\n\r\n    this.image.onload = ()=> {\r\n        this.bgScopeCtx?.drawImage(this.image, 0, 0, this.bgScope?.nativeElement.width  , this.bgScope?.nativeElement.height );\r\n    }\r\n\r\n    // Chart for the scope.\r\n    this.image.src = \"../../assets/images/scopes.svg\";\r\n    // Start callback to process frame\r\n    this.video?.nativeElement.addEventListener(\"play\", () => {\r\n      this.timerCallback();\r\n    });\r\n  }\r\n\r\n  computeFrame() {\r\n    // Draw original frame\r\n    let dim = this.getDimensions();\r\n    let width = dim[0], height = dim[1], outputWidth = dim[2], outputHeight = dim[3];\r\n\r\n    this.vidcanvasCtx?.drawImage(this.video?.nativeElement, 0, 0, width, height);\r\n\r\n    let frame = this.vidcanvasCtx?.getImageData(0, 0, width, height);\r\n    let data = Array.prototype.slice.call(frame?.data);\r\n      \r\n    if (this.currentScope.name.includes(\"JS\")) {\r\n      let data_out = new Array(outputWidth * outputHeight * 4);\r\n      this.currentScope.func(data, data_out, width, height);\r\n      this.scopecanvasCtx?.putImageData(new ImageData(new Uint8ClampedArray(data_out), outputWidth, outputHeight), 0, 0);\r\n    } else {\r\n      this.inputArray.set(data);\r\n      this.currentScope.func(this.inputPointer, this.outputPointer, width, height);\r\n      this.scopecanvasCtx?.putImageData(new ImageData(new Uint8ClampedArray(this.outputArray), outputWidth, outputHeight), 0, 0);\r\n    }\r\n\r\n    return;\r\n  }\r\n\r\n  getSize(event: any) {\r\n    let size = {};\r\n    let currentScope = event.currentScope.name;\r\n    \r\n    switch(currentScope){\r\n      case \"Halide Vector Scope\": \r\n      case \"Halide Vector Scope (Color)\": \r\n      case \"C++ Vector Scope\": \r\n      case \"C++ Vector Scope (Color)\": \r\n      case \"JS Vector Scope (Color)\":\r\n      case \"JS Vector Scope\":\r\n        size = {\r\n          position: 'relative',\r\n          width : '75%',\r\n          height: '100%'\r\n        };\r\n        break;\r\n      default:\r\n        size = {\r\n          position: 'relative',\r\n          width : '100%',\r\n          height: '100%'\r\n        }\r\n    }\r\n   \r\n    return size;\r\n  }\r\n}\r\n","<div class=\"main\">\r\n  <!-- TOOLBAR -->\r\n  <mat-toolbar color=\"primary\">\r\n    <div fxShow=\"true\" >\r\n      <button mat-icon-button (click)=\"sidenav.toggle()\">\r\n        <mat-icon>menu</mat-icon>\r\n      </button>\r\n    </div>\r\n\r\n    <a mat-button class=\"navbarTitle\" routerLink=\"/\">\r\n      <span>Videos</span>\r\n    </a>\r\n\r\n    <span class=\"spacer\"></span>\r\n  </mat-toolbar>\r\n\r\n  <mat-sidenav-container fxFlexFill>\r\n    <!-- SIDE NAV -->\r\n    <mat-sidenav color=\"primary\" #sidenav fxLayout=\"column\" mode=\"over\" opened=\"false\">\r\n      <section class = \"tp-section\" fxLayoutAlign=\"end start\">\r\n        <input type=\"file\" class=\"file-input\" (change)=\"onFileSelected($event)\" #fileUpload>\r\n        <button mat-icon-button (click)=\"fileUpload.click()\">\r\n          <mat-icon>upload_file</mat-icon>\r\n        </button>\r\n      </section>\r\n\r\n      <!-- PROGRESS BAR -->\r\n      <div class=\"progress\">\r\n        <mat-progress-bar class=\"progress-bar\" mode=\"determinate\" [value]=\"uploadProgress\" *ngIf=\"uploadProgress\"></mat-progress-bar>\r\n      </div>\r\n\r\n      <div #files fxLayout=\"column\" >\r\n      </div>\r\n    </mat-sidenav>\r\n\r\n    <!-- MAIN PAGE -->\r\n    <mat-sidenav-content fxFlexFill>\r\n      <h1 class=\"title\">Webassembly Video Scope</h1>\r\n\r\n      <!-- VIDEO PLAYER -->\r\n      <div class=\"row-container\">\r\n        <div class=\"videogular-container\">\r\n          <vg-player (onPlayerReady)=\"invokePlay($event)\" (change)=\"invokePlay($event)\">\r\n            <vg-overlay-play></vg-overlay-play>\r\n            <vg-buffering></vg-buffering>\r\n\r\n            <vg-scrub-bar>\r\n              <vg-scrub-bar-current-time></vg-scrub-bar-current-time>\r\n              <vg-scrub-bar-buffering-time></vg-scrub-bar-buffering-time>\r\n            </vg-scrub-bar>\r\n\r\n            <vg-controls>\r\n              <vg-play-pause></vg-play-pause>\r\n              <vg-playback-button></vg-playback-button>\r\n              <vg-time-display vgProperty=\"current\" vgFormat=\"mm:ss\"></vg-time-display>\r\n              <vg-scrub-bar style=\"pointer-events: none;\"></vg-scrub-bar>\r\n              <vg-time-display vgProperty=\"total\" vgFormat=\"mm:ss\"></vg-time-display>\r\n              <vg-mute vgProperty=\"right\" ></vg-mute>\r\n              <vg-volume vgProperty=\"right\" ></vg-volume>\r\n              <vg-fullscreen vgProperty=\"right\"></vg-fullscreen>\r\n            </vg-controls>\r\n\r\n            <video #video #media [vgMedia]=\"$any(media)\" [src]=\"this.currentVidSrc\" preload=\"auto\" crossorigin></video>\r\n          </vg-player>\r\n        </div>\r\n\r\n        <!-- VIDEO SCOPE -->\r\n        <div class=\"scope-container\">\r\n          <div #overlay id=\"overlay\" [ngStyle]=\"getSize(this)\">\r\n            <canvas #scopecanvas id=\"scopecanvas\" width=\"128\" height=\"256\"></canvas>\r\n            <canvas #bgScope id=\"bgScope\" width=\"128\" height=\"256\"></canvas>\r\n          </div>\r\n  \r\n          <canvas #vidcanvas id=\"vidcanvas\" width=\"128\" height=\"256\"></canvas>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"footer-container\">\r\n        <div class=\"metadata-container\">\r\n          <div class=\"metadata-title\" *ngIf=\"fileName.length > 0\">{{ fileName }}</div>\r\n          <div class=\"metadata-text\" *ngIf=\"computeTimes.length > 0\">Instant: {{ computeTimes | last | msToFps }} fps</div>\r\n          <div class=\"metadata-text\" *ngIf=\"computeTimes.length > 0\">Average: {{ computeTimes | getAvg | msToFps }} fps</div>\r\n        </div>\r\n\r\n        <!-- SCOPE SELECTOR -->\r\n        <div class=\"scope-selector-row\">\r\n          <mat-form-field appearance=\"fill\">\r\n            <mat-label class=\"scopeSelector\">{{ currentScope | getName }}</mat-label>\r\n            <mat-select panelClass=\"scopePanels\">\r\n              <div *ngIf=\"scopes\">\r\n                <mat-option  *ngFor=\"let scope of scopes | keyvalue | orderBy\" (click)=\"changeScope(scope.value)\">\r\n                  {{ scope.value | getName }}\r\n                </mat-option>\r\n              </div>\r\n            </mat-select>\r\n          </mat-form-field>\r\n        </div>\r\n      </div>\r\n\r\n    </mat-sidenav-content>\r\n  </mat-sidenav-container>\r\n</div>\r\n","import { NgModule } from '@angular/core';\r\nimport { BrowserModule } from '@angular/platform-browser';\r\n\r\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\r\nimport { FlexLayoutModule } from '@angular/flex-layout';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatToolbarModule } from '@angular/material/toolbar';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MatSidenavModule } from '@angular/material/sidenav';\r\nimport { MatButtonToggleModule } from '@angular/material/button-toggle';\r\nimport { MatSelectModule } from '@angular/material/select';\r\n\r\nimport { AppComponent } from './app.component';\r\nimport { MsToFps, GetAvg, GetName, LastElement, OrderBy } from './pipes';\r\n\r\nimport { VgBufferingModule } from '@videogular/ngx-videogular/buffering';\r\nimport { VgOverlayPlayModule } from '@videogular/ngx-videogular/overlay-play';\r\nimport { VgCoreModule } from '@videogular/ngx-videogular/core';\r\nimport { VgControlsModule } from '@videogular/ngx-videogular/controls';\r\n\r\nimport { HttpClientModule } from '@angular/common/http';\r\nimport { MatProgressBarModule } from '@angular/material/progress-bar';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    MsToFps,\r\n    GetAvg,\r\n    GetName,\r\n    OrderBy,\r\n    LastElement,\r\n    AppComponent\r\n  ],\r\n  imports: [\r\n    BrowserModule,\r\n    VgCoreModule,\r\n    VgControlsModule,\r\n    VgOverlayPlayModule,\r\n    VgBufferingModule,\r\n    BrowserAnimationsModule,\r\n    FlexLayoutModule,\r\n    MatIconModule, \r\n    MatButtonModule,\r\n    MatSelectModule,\r\n    MatSidenavModule,\r\n    MatToolbarModule,\r\n    MatButtonToggleModule,\r\n    HttpClientModule,\r\n    MatProgressBarModule\r\n  ],\r\n  providers: [],\r\n  bootstrap: [AppComponent]\r\n})\r\nexport class AppModule { }\r\n","function convert_itu_bt709(r: number, g: number, b: number) {\r\n\tlet luminance = 0.2126*r + 0.7152*g + 0.0722*b; // Y value\r\n\t//rerange from 0 -> 1\r\n\tluminance = luminance / 255.0;\r\n\treturn luminance;\r\n}\r\n\r\n// convert to luminance scale 0-1 (regardless of R,G,B)\r\nfunction convert_simple(pixel: number) {\r\n\tlet luminance = pixel / 255.0;\r\n\tif (luminance > 1) {\r\n\t\treturn 1;\r\n\t}\r\n\treturn luminance;\r\n}\r\n\r\n// source: https://softpixel.com/~cwright/programming/colorspace/yuv/\r\nfunction RGBtoY(R: number, G: number, B: number) {\r\n\treturn (R * .299000) + (G * .587000) + (B * .114000); \t  \t// 0 - 255\r\n}\r\n\r\nfunction RGBtoUV(R: number, G: number, B: number) {\r\n\tlet U = (R * -.168736) + (G * -.331264) + (B *  .500000) + 128; \t// 0 - 255\r\n\tlet V = (R *  .500000) + (G * -.418688) + (B * -.081312) + 128; \t// 0 - 255\r\n    return [U, V]\r\n}\r\n\r\nfunction YUVtoRGB(Y: number, U: number, V: number) {\r\n\tlet R = Y + 1.4075 * (V - 128);\r\n\tlet G = Y - 0.3455 * (U - 128) - (0.7169 * (V - 128));\r\n\tlet B = Y + 1.7790 * (U - 128);\r\n\r\n    return [R, G, B];\r\n}\r\n\r\nfunction normalize(input: number) {\r\n\treturn input / 255.0;\r\n}\r\n\r\nfunction getIndex(x: number, y: number, width: number) {\r\n\treturn ((y * width) + x) * 4;\r\n}\r\n\r\nfunction getUpdatedColor(pixel_cur: number, pixel_new: number, divider: number, constant: number) {\r\n\tlet result = pixel_cur + (constant * pixel_new / divider);\r\n\tif (result > 255) return 255;\r\n\treturn Math.floor(result);\r\n\r\n}\r\n/////// SCOPE GENERATORS ///////\r\n// get itu_bt.709 luminance (waveform)\r\nexport function js_lumascope(data_in: any, data_out: any, width: number, height: number) {\r\n\tlet index;\t\t\t\t\r\n\tlet Y;\t\t\t\t\t\r\n\t\r\n\tlet histogram = new Array(1024);\r\n\r\n\tfor (let w = 0; w < width; w++) {\r\n\t\tfor (let i=0; i < height; i++) histogram[i] = 0;\r\n\r\n\t\tfor (let h = 0; h < height; h++) {\r\n\t\t\tindex = ((h * width) + w) * 4;\r\n\t\t\t\r\n\t\t\tY = Math.floor(height * convert_itu_bt709(data_in[index], \r\n\t\t\t\t\t\t\t\t\t\t\t\tdata_in[index+1], \r\n\t\t\t\t\t\t\t\t\t\t\t\tdata_in[index+2]));\r\n\r\n\t\t\t//increment histogram bucket for the luminance we found\r\n\t\t\thistogram[height-(Y+1)]+=16.0*256/height;\r\n\t\t}\r\n\r\n\t\tfor (let h = 0; h < height; h++) {\r\n\t\t\tindex = ((h * width) + w) * 4;\r\n\r\n\t\t\t//  display histogram using green pixels (i.e. set r and b to 0)\r\n\t\t\tdata_out[index] = 0;\r\n\t\t\tdata_out[index+1] = histogram[h];\r\n\t\t\tdata_out[index+2] = 0;\r\n\t\t\tdata_out[index+3] = 255;\r\n\t\t}\r\n\t}\r\n}\r\n\r\n// get RGB luminance (waveform)\r\nexport function js_color_lumascope(data_in: any, data_out: any, width: number, height: number) {\r\n\tlet index, Y_height;\r\n\r\n\tlet Y, U, V;\r\n\tlet R, G, B;\r\n\t\r\n\tlet histogramY = new Array(1024);\t// Y values\r\n\r\n\tlet totalR = new Array(1024);\r\n\tlet totalG = new Array(1024);\r\n\tlet totalB = new Array(1024);\r\n\r\n\tlet count = new Array(1024);\r\n\r\n\tfor (let w = 0; w < width; w++) {\r\n\r\n\t\t// initialize histograms to 0\r\n\t\tfor (let h = 0; h < height; h++) {\r\n\t\t\thistogramY[h] = 0;\r\n\r\n\t\t\ttotalR[h] = 0;\r\n\t\t\ttotalG[h] = 0;\r\n\t\t\ttotalB[h] = 0;\r\n\r\n\t\t\tcount[h] = 0;\r\n\t\t}\r\n\r\n\t\t// process data_in[]\r\n\t\tfor (let h = 0; h < height; h++) {\r\n\t\t\tindex = ((h * width) + w) * 4;\r\n\r\n\t\t\t// get Y\r\n\t\t\tY = RGBtoY(data_in[index], data_in[index+1], data_in[index+2]);\r\n\t\t\tY_height = normalize(Y) * (height-1); // 0 - (height - 1)\r\n\r\n\t\t\t// increment histogram bucket for the luminance we found (inverted)\r\n\t\t\thistogramY[Math.floor(height-Y_height-1)] += 16 * 256.0/height;\r\n\r\n\t\t\t// sum RGB\r\n\t\t\ttotalR[Math.floor(height-Y_height-1)] += data_in[index];\r\n\t\t\ttotalG[Math.floor(height-Y_height-1)] += data_in[index+1];\r\n\t\t\ttotalB[Math.floor(height-Y_height-1)] += data_in[index+2];\r\n\r\n\t\t\t// counter\r\n\t\t\tcount[Math.floor(height-Y_height-1)] += 1;\r\n\t\t}\r\n\r\n\t\t// process data_out[]\r\n\t\tfor (let h = 0; h < height; h++) {\r\n\t\t\tif (count[h] == 0) count[h] = 1;\r\n\r\n\t\t\t// average RGB\r\n\t\t\tR = totalR[h]/count[h];\r\n\t\t\tG = totalG[h]/count[h];\r\n\t\t\tB = totalB[h]/count[h];\r\n\r\n\t\t\t// convert to UV\r\n\t\t\tlet uvVal = RGBtoUV(R, G, B);\r\n            U = uvVal[0];\r\n            V = uvVal[1];\r\n\r\n \t\t\t// convert back to RGB with HISTOGRAM Y\r\n\t\t\tlet rgbVal = YUVtoRGB(histogramY[h], U, V);\r\n            R = rgbVal[0];\r\n            G = rgbVal[1];\r\n            B = rgbVal[2];\r\n\r\n\t\t\tindex = ((h * width) + w) * 4;\r\n\r\n\t\t\t// set data_out[] (insert U, V -> RGB)\r\n\t\t\tdata_out[index]   = R;\r\n\t\t\tdata_out[index+1] = G;\r\n\t\t\tdata_out[index+2] = B;\r\n\t\t\tdata_out[index+3] = 255;\r\n\t\t}\r\n\t}\r\n}\r\n\r\n// get seperate RGB luminance (waveform)\r\nexport function js_rgb_parade(data_in: any, data_out: any, width: number, height: number) {\r\n    let index;\t\t\t\t\t// pixel's index\r\n\tlet indexR, indexG, indexB;\t// pixel's index\r\n\tlet Yr, Yg, Yb;\t\t\t\t// pixel's luminance\r\n\r\n\tlet output_width = width * 3;\r\n\tlet w_r, w_g, w_b;\r\n\r\n\tlet histogram = new Array(1024);\r\n\tfor (let h=0; h < 1024; h++) {\r\n\t\thistogram[h] = new Array(3);\r\n\t}\r\n\r\n\tfor (let w = 0; w < width; w++) {\r\n\t\t//initialize histogram elements to zero\r\n\t\tfor (let h=0; h < height; h++) {\r\n\t\t\thistogram[h][0] = 0;\r\n\t\t\thistogram[h][1] = 0;\r\n\t\t\thistogram[h][2] = 0;\r\n\t\t}\r\n\r\n\t\t//find luminance, increment histogram bucket\r\n\t\tfor (let h = 0; h < height; h++) {\r\n\t\t\tindex = ((h * width) + w) * 4;\r\n\t\t\tYr = Math.floor(data_in[index]/255.0 * (height-1));\r\n\t\t\tYg = Math.floor(data_in[index+1]/255.0 * (height-1));\r\n\t\t\tYb = Math.floor(data_in[index+2]/255.0 * (height-1));\r\n\r\n\t\t\thistogram[height - Yr - 1][0] += 16.0*256/height;\r\n\t\t\thistogram[height - Yg - 1][1] += 16.0*256/height;\r\n\t\t\thistogram[height - Yb - 1][2] += 16.0*256/height;\r\n\t\t}\r\n\r\n\t\t//display histogram\r\n\t\tfor (let h = 0; h < height; h++) {\r\n\t\t\tindexR = ((h * output_width) + w) * 4;\r\n\t\t\tindexG = ((h * output_width) + w + width) * 4;\r\n\t\t\tindexB = ((h * output_width) + w + 2*width) * 4;\r\n\r\n\t\t\tdata_out[indexR+1] = 0; //R\r\n\t\t\tdata_out[indexR+2] = 0;\r\n\t\t\tdata_out[indexG]   = 0; //G\r\n\t\t\tdata_out[indexG+2] = 0;\r\n\t\t\tdata_out[indexB]   = 0; //B\r\n\t\t\tdata_out[indexB+1] = 0;\r\n\r\n\t\t\tdata_out[indexR]   = histogram[h][0];\r\n\t\t\tdata_out[indexG+1] = histogram[h][1];\r\n\t\t\tdata_out[indexB+2] = histogram[h][2];\r\n\r\n\t\t\t// set alpha\r\n\t\t\tdata_out[indexR+3] = 255;\r\n\t\t\tdata_out[indexG+3] = 255;\r\n\t\t\tdata_out[indexB+3] = 255;\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport function js_color_vectorscope(data_in: any, data_out: any, width: number, height: number) {\r\n\tlet index;\r\n\tlet x, y;\r\n\tlet R, G, B;\r\n\tlet U, V;\r\n\r\n\tfor (let w = 0; w < width; w++) {\r\n\t\tfor (let h = 0; h < height; h++) {\r\n\t\t\t\tindex = getIndex(w, h, width);\r\n\t\t\t\tdata_out[index] = 0;\r\n\t\t\t\tdata_out[index+1] = 0;\r\n\t\t\t\tdata_out[index+2] = 0;\r\n\t\t\t\tdata_out[index+3] = 255;\r\n\t\t}\r\n\t}\r\n\r\n\tfor (let w = 0; w < width; w++) {\r\n\t\tfor (let h = 0; h < height; h++) {\r\n\t\t\tindex = getIndex(w, h, width);\r\n\r\n\t\t\tR = data_in[index];\r\n\t\t\tG = data_in[index+1];\r\n\t\t\tB = data_in[index+2];\r\n\r\n\t\t\t// get UV\r\n\t\t\tlet uvVal = RGBtoUV(R, G, B);\r\n            U = uvVal[0];\r\n            V = uvVal[1];\r\n\r\n\t\t\t// convert UV to XY\r\n\t\t\tx = normalize(U) * (height-1);\r\n\t\t\ty = (height-1) - (normalize(V) * (height-1));\r\n\r\n\t\t\t// calculate resulting pixel brightness\r\n\t\t\tindex = getIndex(Math.round(x), Math.round(y), height);\r\n\r\n\t\t\tdata_out[index] = getUpdatedColor(data_out[index], R, height, 16);\r\n\t\t\tdata_out[index+1] = getUpdatedColor(data_out[index+1], G, height, 16);\r\n\t\t\tdata_out[index+2] = getUpdatedColor(data_out[index+2], B, height, 16);\r\n\t\t}\r\n\t}\r\n}\r\n\r\n\r\nexport function js_vectorscope(data_in: any, data_out: any, width: number, height: number) {\r\n\t\r\n\tlet index;\r\n\tlet x, y;\r\n\tlet R, G, B;\r\n\tlet U, V;\r\n\r\n\tfor (let w = 0; w < width; w++) {\r\n\t\tfor (let h = 0; h < height; h++) {\r\n\t\t\t\tindex = getIndex(w, h, width);\r\n\t\t\t\tdata_out[index] = 0;\r\n\t\t\t\tdata_out[index+1] = 0;\r\n\t\t\t\tdata_out[index+2] = 0;\r\n\t\t\t\tdata_out[index+3] = 255;\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n\r\n\tfor (let w = 0; w < width; w++) {\r\n\t\tfor (let h = 0; h < height; h++) {\r\n\t\t\tindex = getIndex(w, h, width);\r\n\r\n\t\t\tR = data_in[index];\r\n\t\t\tG = data_in[index+1];\r\n\t\t\tB = data_in[index+2];\r\n\r\n\t\t\t// get UV\r\n\t\t\tlet uvVal = RGBtoUV(R, G, B);\r\n            U = uvVal[0];\r\n            V = uvVal[1];\r\n\r\n\t\t\t// convert UV to XY\r\n\t\t\tx = normalize(U) * (height-1);\r\n\t\t\ty = (height-1) - (normalize(V) * (height-1));\r\n\r\n\t\t\t// calculate resulting pixel brightness\r\n\t\t\tindex = getIndex(Math.round(x), Math.round(y), height);\r\n\r\n\t\t\tlet result = data_out[index+1] + 16.0*256/height;\r\n\t\t\tif (result > 255) result = 255;\r\n\r\n\t\t\tdata_out[index] = 0;\r\n\t\t\tdata_out[index+1] = result;\r\n\t\t\tdata_out[index+2] = 0;\r\n\t\t}\r\n\t}\r\n}","import { enableProdMode } from '@angular/core';\r\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app/app.module';\r\nimport { environment } from './environments/environment';\r\n\r\nif (environment.production) {\r\n  enableProdMode();\r\n}\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule)\r\n  .catch(err => console.error(err));\r\n","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"zn8P\";"],"sourceRoot":"webpack:///"}