<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Halide: /Users/halidenightly/build_bot_new/worker/halide-main-llvm13-x86-64-osx-cmake/halide-source/src/runtime/HalideRuntimeD3D12Compute.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Halide
   &#160;<span id="projectnumber">12.0.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('_halide_runtime_d3_d12_compute_8h.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">HalideRuntimeD3D12Compute.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Routines specific to the <a class="el" href="namespace_halide.html" title="This file defines the class FunctionDAG, which is our representation of a Halide pipeline,...">Halide</a> Direct3D 12 Compute runtime.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="_halide_runtime_8h_source.html">HalideRuntime.h</a>&quot;</code><br />
</div>
<p><a href="_halide_runtime_d3_d12_compute_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ae3428b555c0a0a7ff2fa92a6e2be6cb7"><td class="memItemLeft" align="right" valign="top">const struct <a class="el" href="structhalide__device__interface__t.html">halide_device_interface_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_halide_runtime_d3_d12_compute_8h.html#ae3428b555c0a0a7ff2fa92a6e2be6cb7">halide_d3d12compute_device_interface</a> ()</td></tr>
<tr class="separator:ae3428b555c0a0a7ff2fa92a6e2be6cb7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96e72f1e76c8c53e363f4d409324e6aa"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_halide_runtime_d3_d12_compute_8h.html#a96e72f1e76c8c53e363f4d409324e6aa">halide_d3d12compute_initialize_kernels</a> (void *<a class="el" href="printer_8h.html#a9a395374120db0d0280e16f53201d5cf">user_context</a>, void **state_ptr, const char *src, int size)</td></tr>
<tr class="memdesc:a96e72f1e76c8c53e363f4d409324e6aa"><td class="mdescLeft">&#160;</td><td class="mdescRight">These are forward declared here to allow clients to override the <a class="el" href="namespace_halide.html" title="This file defines the class FunctionDAG, which is our representation of a Halide pipeline,...">Halide</a> Direct3D 12 Compute runtime.  <a href="_halide_runtime_d3_d12_compute_8h.html#a96e72f1e76c8c53e363f4d409324e6aa">More...</a><br /></td></tr>
<tr class="separator:a96e72f1e76c8c53e363f4d409324e6aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b76a6639a41e71e09ad3d2824776140"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_halide_runtime_d3_d12_compute_8h.html#a9b76a6639a41e71e09ad3d2824776140">halide_d3d12compute_run</a> (void *<a class="el" href="printer_8h.html#a9a395374120db0d0280e16f53201d5cf">user_context</a>, void *state_ptr, const char *entry_name, int blocksX, int blocksY, int blocksZ, int threadsX, int threadsY, int threadsZ, int shared_mem_bytes, <a class="el" href="structhalide__type__t.html">halide_type_t</a> arg_types[], void *args[], <a class="el" href="runtime__internal_8h.html#acfd957407fbe865fe77f6fdf86818f5e">int8_t</a> arg_is_buffer[], int num_attributes, float *vertex_buffer, int num_coords_dim0, int num_coords_dim1)</td></tr>
<tr class="separator:a9b76a6639a41e71e09ad3d2824776140"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83bdc42873d8bf0dafa4a54329cd34c0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_halide_runtime_d3_d12_compute_8h.html#a83bdc42873d8bf0dafa4a54329cd34c0">halide_d3d12compute_finalize_kernels</a> (void *<a class="el" href="printer_8h.html#a9a395374120db0d0280e16f53201d5cf">user_context</a>, void *state_ptr)</td></tr>
<tr class="separator:a83bdc42873d8bf0dafa4a54329cd34c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88313600779c1d6daa4a05a16ed3b976"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_halide_runtime_d3_d12_compute_8h.html#a88313600779c1d6daa4a05a16ed3b976">halide_d3d12compute_wrap_buffer</a> (void *<a class="el" href="printer_8h.html#a9a395374120db0d0280e16f53201d5cf">user_context</a>, struct <a class="el" href="structhalide__buffer__t.html">halide_buffer_t</a> *<a class="el" href="printer_8h.html#a1fe855c208bc17a51a4d34fefdb2d5b1">buf</a>, <a class="el" href="runtime__internal_8h.html#a015141fcb741f5cbee8e65a30b61e1ce">uint64_t</a> d3d12_resource)</td></tr>
<tr class="memdesc:a88313600779c1d6daa4a05a16ed3b976"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the underlying ID3D12Resource for a <a class="el" href="structhalide__buffer__t.html" title="The raw representation of an image passed around by generated Halide code.">halide_buffer_t</a>.  <a href="_halide_runtime_d3_d12_compute_8h.html#a88313600779c1d6daa4a05a16ed3b976">More...</a><br /></td></tr>
<tr class="separator:a88313600779c1d6daa4a05a16ed3b976"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76d6dfc3562479e3edf52fbf86db8abc"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_halide_runtime_d3_d12_compute_8h.html#a76d6dfc3562479e3edf52fbf86db8abc">halide_d3d12compute_detach_buffer</a> (void *<a class="el" href="printer_8h.html#a9a395374120db0d0280e16f53201d5cf">user_context</a>, struct <a class="el" href="structhalide__buffer__t.html">halide_buffer_t</a> *<a class="el" href="printer_8h.html#a1fe855c208bc17a51a4d34fefdb2d5b1">buf</a>)</td></tr>
<tr class="memdesc:a76d6dfc3562479e3edf52fbf86db8abc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Disconnect a <a class="el" href="structhalide__buffer__t.html" title="The raw representation of an image passed around by generated Halide code.">halide_buffer_t</a> from the ID3D12Resource it was previously wrapped around.  <a href="_halide_runtime_d3_d12_compute_8h.html#a76d6dfc3562479e3edf52fbf86db8abc">More...</a><br /></td></tr>
<tr class="separator:a76d6dfc3562479e3edf52fbf86db8abc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f3cb7ed0d2b23678314833764ecfb4e"><td class="memItemLeft" align="right" valign="top">uintptr_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_halide_runtime_d3_d12_compute_8h.html#a6f3cb7ed0d2b23678314833764ecfb4e">halide_d3d12compute_get_buffer</a> (void *<a class="el" href="printer_8h.html#a9a395374120db0d0280e16f53201d5cf">user_context</a>, struct <a class="el" href="structhalide__buffer__t.html">halide_buffer_t</a> *<a class="el" href="printer_8h.html#a1fe855c208bc17a51a4d34fefdb2d5b1">buf</a>)</td></tr>
<tr class="memdesc:a6f3cb7ed0d2b23678314833764ecfb4e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the underlying ID3D12Resource for a <a class="el" href="structhalide__buffer__t.html" title="The raw representation of an image passed around by generated Halide code.">halide_buffer_t</a>.  <a href="_halide_runtime_d3_d12_compute_8h.html#a6f3cb7ed0d2b23678314833764ecfb4e">More...</a><br /></td></tr>
<tr class="separator:a6f3cb7ed0d2b23678314833764ecfb4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a217d1cc85472e27de2f7a03e0f37cd36"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_halide_runtime_d3_d12_compute_8h.html#a217d1cc85472e27de2f7a03e0f37cd36">halide_d3d12compute_acquire_context</a> (void *<a class="el" href="printer_8h.html#a9a395374120db0d0280e16f53201d5cf">user_context</a>, struct halide_d3d12compute_device **device_ret, struct halide_d3d12compute_command_queue **queue_ret, bool create)</td></tr>
<tr class="memdesc:a217d1cc85472e27de2f7a03e0f37cd36"><td class="mdescLeft">&#160;</td><td class="mdescRight">This prototype is exported as applications will typically need to replace it to get <a class="el" href="namespace_halide.html" title="This file defines the class FunctionDAG, which is our representation of a Halide pipeline,...">Halide</a> filters to execute on the same device and command queue used for other purposes.  <a href="_halide_runtime_d3_d12_compute_8h.html#a217d1cc85472e27de2f7a03e0f37cd36">More...</a><br /></td></tr>
<tr class="separator:a217d1cc85472e27de2f7a03e0f37cd36"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac46c55d99425054b35999f60815a0624"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_halide_runtime_d3_d12_compute_8h.html#ac46c55d99425054b35999f60815a0624">halide_d3d12compute_release_context</a> (void *<a class="el" href="printer_8h.html#a9a395374120db0d0280e16f53201d5cf">user_context</a>)</td></tr>
<tr class="memdesc:ac46c55d99425054b35999f60815a0624"><td class="mdescLeft">&#160;</td><td class="mdescRight">This call balances each successfull halide_d3d12compute_acquire_context call.  <a href="_halide_runtime_d3_d12_compute_8h.html#ac46c55d99425054b35999f60815a0624">More...</a><br /></td></tr>
<tr class="separator:ac46c55d99425054b35999f60815a0624"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Routines specific to the <a class="el" href="namespace_halide.html" title="This file defines the class FunctionDAG, which is our representation of a Halide pipeline,...">Halide</a> Direct3D 12 Compute runtime. </p>

<p class="definition">Definition in file <a class="el" href="_halide_runtime_d3_d12_compute_8h_source.html">HalideRuntimeD3D12Compute.h</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="ae3428b555c0a0a7ff2fa92a6e2be6cb7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae3428b555c0a0a7ff2fa92a6e2be6cb7">&#9670;&nbsp;</a></span>halide_d3d12compute_device_interface()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const struct <a class="el" href="structhalide__device__interface__t.html">halide_device_interface_t</a>* halide_d3d12compute_device_interface </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a96e72f1e76c8c53e363f4d409324e6aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a96e72f1e76c8c53e363f4d409324e6aa">&#9670;&nbsp;</a></span>halide_d3d12compute_initialize_kernels()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int halide_d3d12compute_initialize_kernels </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>user_context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>state_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>These are forward declared here to allow clients to override the <a class="el" href="namespace_halide.html" title="This file defines the class FunctionDAG, which is our representation of a Halide pipeline,...">Halide</a> Direct3D 12 Compute runtime. </p>
<p>Do not call them. </p>

</div>
</div>
<a id="a9b76a6639a41e71e09ad3d2824776140"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b76a6639a41e71e09ad3d2824776140">&#9670;&nbsp;</a></span>halide_d3d12compute_run()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int halide_d3d12compute_run </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>user_context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>state_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>entry_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>blocksX</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>blocksY</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>blocksZ</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>threadsX</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>threadsY</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>threadsZ</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>shared_mem_bytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structhalide__type__t.html">halide_type_t</a>&#160;</td>
          <td class="paramname"><em>arg_types</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>args</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="runtime__internal_8h.html#acfd957407fbe865fe77f6fdf86818f5e">int8_t</a>&#160;</td>
          <td class="paramname"><em>arg_is_buffer</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>num_attributes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float *&#160;</td>
          <td class="paramname"><em>vertex_buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>num_coords_dim0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>num_coords_dim1</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a83bdc42873d8bf0dafa4a54329cd34c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a83bdc42873d8bf0dafa4a54329cd34c0">&#9670;&nbsp;</a></span>halide_d3d12compute_finalize_kernels()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void halide_d3d12compute_finalize_kernels </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>user_context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>state_ptr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a88313600779c1d6daa4a05a16ed3b976"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a88313600779c1d6daa4a05a16ed3b976">&#9670;&nbsp;</a></span>halide_d3d12compute_wrap_buffer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int halide_d3d12compute_wrap_buffer </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>user_context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structhalide__buffer__t.html">halide_buffer_t</a> *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="runtime__internal_8h.html#a015141fcb741f5cbee8e65a30b61e1ce">uint64_t</a>&#160;</td>
          <td class="paramname"><em>d3d12_resource</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the underlying ID3D12Resource for a <a class="el" href="structhalide__buffer__t.html" title="The raw representation of an image passed around by generated Halide code.">halide_buffer_t</a>. </p>
<p>The memory backing the resource should be managed by the caller (via a default/device heap) and must be large enough to cover the extent of the <a class="el" href="structhalide__buffer__t.html" title="The raw representation of an image passed around by generated Halide code.">halide_buffer_t</a>. The device field of the <a class="el" href="structhalide__buffer__t.html" title="The raw representation of an image passed around by generated Halide code.">halide_buffer_t</a> must be NULL when this routine is called. This call can fail due to running out of memory or if an invalid D3D12 resource is passed. The device and host dirty bits are left unmodified. </p>

</div>
</div>
<a id="a76d6dfc3562479e3edf52fbf86db8abc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a76d6dfc3562479e3edf52fbf86db8abc">&#9670;&nbsp;</a></span>halide_d3d12compute_detach_buffer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int halide_d3d12compute_detach_buffer </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>user_context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structhalide__buffer__t.html">halide_buffer_t</a> *&#160;</td>
          <td class="paramname"><em>buf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Disconnect a <a class="el" href="structhalide__buffer__t.html" title="The raw representation of an image passed around by generated Halide code.">halide_buffer_t</a> from the ID3D12Resource it was previously wrapped around. </p>
<p>Should only be called for a <a class="el" href="structhalide__buffer__t.html" title="The raw representation of an image passed around by generated Halide code.">halide_buffer_t</a> that halide_d3d12compute_wrap_buffer was previously called on. Frees any storage associated with the binding of the <a class="el" href="structhalide__buffer__t.html" title="The raw representation of an image passed around by generated Halide code.">halide_buffer_t</a> and the buffer, but does not free the ID3D12Resource. The dev field of the <a class="el" href="structhalide__buffer__t.html" title="The raw representation of an image passed around by generated Halide code.">halide_buffer_t</a> will be NULL on return. </p>

</div>
</div>
<a id="a6f3cb7ed0d2b23678314833764ecfb4e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6f3cb7ed0d2b23678314833764ecfb4e">&#9670;&nbsp;</a></span>halide_d3d12compute_get_buffer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uintptr_t halide_d3d12compute_get_buffer </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>user_context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct <a class="el" href="structhalide__buffer__t.html">halide_buffer_t</a> *&#160;</td>
          <td class="paramname"><em>buf</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the underlying ID3D12Resource for a <a class="el" href="structhalide__buffer__t.html" title="The raw representation of an image passed around by generated Halide code.">halide_buffer_t</a>. </p>
<p>This resource must be valid on an D3D12 device, unless <a class="el" href="structhalide__buffer__t.html" title="The raw representation of an image passed around by generated Halide code.">halide_buffer_t</a> has no associated resource. If there is no device memory (device field is NULL), returns 0. </p>

</div>
</div>
<a id="a217d1cc85472e27de2f7a03e0f37cd36"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a217d1cc85472e27de2f7a03e0f37cd36">&#9670;&nbsp;</a></span>halide_d3d12compute_acquire_context()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int halide_d3d12compute_acquire_context </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>user_context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct halide_d3d12compute_device **&#160;</td>
          <td class="paramname"><em>device_ret</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">struct halide_d3d12compute_command_queue **&#160;</td>
          <td class="paramname"><em>queue_ret</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>create</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This prototype is exported as applications will typically need to replace it to get <a class="el" href="namespace_halide.html" title="This file defines the class FunctionDAG, which is our representation of a Halide pipeline,...">Halide</a> filters to execute on the same device and command queue used for other purposes. </p>
<p>The halide_d3d12compute_device is an ID3D12Device and halide_d3d12compute_command_queue is an ID3D12CommandQueue. No reference counting is done by <a class="el" href="namespace_halide.html" title="This file defines the class FunctionDAG, which is our representation of a Halide pipeline,...">Halide</a> on these objects. They must remain valid until all off the following are true:</p><ul>
<li>A balancing halide_d3d12compute_release_context has occurred for each halide_d3d12compute_acquire_context which returned the device/queue</li>
<li>All <a class="el" href="namespace_halide.html" title="This file defines the class FunctionDAG, which is our representation of a Halide pipeline,...">Halide</a> filters using the context information have completed</li>
<li>All <a class="el" href="structhalide__buffer__t.html" title="The raw representation of an image passed around by generated Halide code.">halide_buffer_t</a> objects on the device have had halide_device_free called or have been detached via halide_d3d12compute_detach_buffer.</li>
<li>halide_device_release has been called on the interface returned from <a class="el" href="_halide_runtime_d3_d12_compute_8h.html#ae3428b555c0a0a7ff2fa92a6e2be6cb7">halide_d3d12compute_device_interface()</a>. (This releases the programs on the context.) </li>
</ul>

</div>
</div>
<a id="ac46c55d99425054b35999f60815a0624"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac46c55d99425054b35999f60815a0624">&#9670;&nbsp;</a></span>halide_d3d12compute_release_context()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int halide_d3d12compute_release_context </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>user_context</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This call balances each successfull halide_d3d12compute_acquire_context call. </p>
<p>If halide_d3d12compute_acquire_context is replaced, this routine must be replaced as well. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_bf9f26469d00835ba20ff8d80ee5a804.html">runtime</a></li><li class="navelem"><a class="el" href="_halide_runtime_d3_d12_compute_8h.html">HalideRuntimeD3D12Compute.h</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
